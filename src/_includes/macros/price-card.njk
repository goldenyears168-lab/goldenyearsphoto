{#
  Price Card Macro
  
  Creates a unified pricing card component.
  
  Parameters:
    - title: Service title
    - price: Price amount (number)
    - priceUnit: Price unit (e.g., "/張")
    - discount: Discount text (optional)
    - features: Array of feature items
    - upgrades: Array of upgrade options (optional)
    - ctaText: CTA button text
    - ctaUrl: CTA button URL
    - images: Array of image objects {src, alt} (optional)
  
  Usage:
    {% from "macros/price-card.njk" import priceCard %}
    {% set features = ["專業自然精修", "高畫質電子檔"] %}
    {{ priceCard("韓式證件照", 399, "/張", "持學生證可優惠", features, [], "查看完整價目表", "/price-list/") }}
#}

{% macro priceCard(title, price, priceUnit, discount='', features=[], upgrades=[], ctaText, ctaUrl, images=[]) %}
<div class="bento-card bento-card-default">
    <div class="flex-1 p-8 md:p-10 flex flex-col">
        <h3 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">{{ title }}</h3>
        <p class="text-4xl md:text-5xl font-bold text-slate-900 mb-2">
            優惠 <span class="text-slate-900">{{ price }}</span> <span class="text-xl md:text-2xl font-normal text-slate-500">{{ priceUnit }}</span>
        </p>
        {% if discount %}
        <p class="inline-block mt-2 px-4 py-2 text-sm font-semibold bg-trust-100 text-trust-800 rounded-full mb-6">
            {{ discount }}
        </p>
        {% endif %}

        {% if features.length > 0 %}
        <h4 class="text-xl md:text-2xl font-semibold text-slate-900 mb-4 mt-6">服務包含</h4>
        <ul class="space-y-3 mb-8 flex-1">
            {% for feature in features %}
            <li class="flex items-start gap-3 text-slate-700">
                <span class="text-slate-900 mt-1">•</span>
                <span>{{ feature }}</span>
            </li>
            {% endfor %}
        </ul>
        {% endif %}

        {% if upgrades.length > 0 %}
        <h4 class="text-xl md:text-2xl font-semibold text-slate-900 mb-4">升級選項</h4>
        <ul class="space-y-3">
            {% for upgrade in upgrades %}
            <li class="flex items-start gap-3 text-slate-700">
                <span class="text-slate-900 mt-1">•</span>
                <span>{{ upgrade }}</span>
            </li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>

    {% if images.length > 0 %}
    <div class="flex-[0_0_55%] p-8 bg-slate-50 grid grid-cols-2 gap-4">
        {% for image in images %}
        <div class="flex flex-col">
            <div class="flex-1 bg-white rounded-xl overflow-hidden mb-2">
                <img src="{{ image.src | r2img }}" alt="{{ image.alt }}" class="w-full h-full object-contain object-center" loading="lazy" decoding="async" />
            </div>
            <p class="text-sm text-center text-slate-600">{{ image.label }}</p>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endmacro %}

