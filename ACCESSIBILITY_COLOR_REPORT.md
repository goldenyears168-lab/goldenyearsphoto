# 无障碍颜色对比度检查报告

## 检查日期
2024年（自动生成）

## 检查工具
`scripts/check-accessibility-colors.py` - 基于 WCAG 2.1 标准的颜色对比度检查工具

## WCAG 标准说明
- **AA 级别（正常文字）**: 对比度 ≥ 4.5:1（最低要求）
- **AA 级别（大文字，18pt+ 或 14pt+ bold）**: 对比度 ≥ 3:1
- **AAA 级别（正常文字）**: 对比度 ≥ 7:1（最佳实践）
- **AAA 级别（大文字）**: 对比度 ≥ 4.5:1

## 检查结果摘要

⚠️ **发现 30+ 个严重的对比度问题（需要立即修复）**

主要问题集中在**浅蓝色背景上的文字**，这些组合会导致文字几乎看不见。

## 发现的问题

### ⚠️ 严重问题：浅蓝色背景上的文字对比度不足

以下颜色组合在浅蓝色背景（`bg-trust-50`, `bg-trust-100`, `bg-trust-200`）上**对比度严重不足**，文字几乎看不见：

#### 在 `bg-trust-50` (#F0F4FF) 背景上：
- ❌ `text-white` - 对比度 1.10:1
- ❌ `text-white/70` - 对比度 1.06:1
- ❌ `text-white/80` - 对比度 1.07:1
- ❌ `text-white/90` - 对比度 1.08:1
- ❌ `text-slate-400` - 对比度 2.33:1
- ❌ `text-slate-500` - 对比度 4.33:1（接近但未达到 4.5:1）

#### 在 `bg-trust-100` (#E0E7FF) 背景上：
- ❌ `text-white` - 对比度 1.23:1
- ❌ `text-slate-400` - 对比度 2.08:1
- ❌ `text-slate-500` - 对比度 3.86:1

#### 在 `bg-trust-200` (#C7D2FE) 背景上：
- ❌ `text-white` - 对比度 1.49:1
- ❌ `text-slate-400` - 对比度 1.72:1
- ❌ `text-slate-500` - 对比度 3.19:1

### 1. `.btn-tag` 按钮标签
- **位置**: `src/assets/css/main.css` 第 916 行
- **文字颜色**: `--color-neutral-400` (#64748B - 灰蓝色)
- **背景颜色**: `--color-white` (#FFFFFF - 白色)
- **当前对比度**: 4.76:1
- **WCAG AA**: ✅ 通过 (需要 ≥ 4.5:1)
- **WCAG AAA**: ❌ 未通过 (需要 ≥ 7:1)
- **影响**: 按钮标签文字的可读性可能不够理想，特别是在某些显示设备上

### 2. `.category-pill` 分类按钮
- **位置**: `src/assets/css/main.css` 第 1477 行
- **文字颜色**: `--color-neutral-400` (#64748B - 灰蓝色)
- **背景颜色**: `--color-white` (#FFFFFF - 白色)
- **当前对比度**: 4.76:1
- **WCAG AA**: ✅ 通过 (需要 ≥ 4.5:1)
- **WCAG AAA**: ❌ 未通过 (需要 ≥ 7:1)
- **影响**: 分类筛选按钮的文字可读性可能不够理想

## 修复建议

### ⚠️ 紧急修复：浅蓝色背景上的文字

**在浅蓝色背景上，必须使用深色文字：**

```css
/* ✅ 正确：深色文字在浅蓝色背景 */
.bg-trust-50 + .text-trust-800  /* 对比度 9.42:1 */
.bg-trust-50 + .text-trust-900  /* 对比度 16.23:1 */
.bg-trust-50 + .text-trust-950  /* 对比度 20.17:1 */

/* ❌ 错误：浅色文字在浅蓝色背景 */
.bg-trust-50 + .text-white      /* 对比度 1.10:1 - 几乎看不见！ */
.bg-trust-50 + .text-slate-400   /* 对比度 2.33:1 - 看不清！ */
```

**推荐的颜色组合：**
- `bg-trust-50` + `text-trust-800` 或 `text-trust-900` 或 `text-trust-950`
- `bg-trust-100` + `text-trust-600` 或 `text-trust-800` 或 `text-trust-900`
- `bg-trust-200` + `text-trust-950`

### 方案 1: 使用更深的文字颜色（推荐）
将文字颜色从 `--color-neutral-400` (#64748B) 改为更深的颜色，以达到 AAA 标准：

```css
/* 选项 1: 使用 trust-900 (对比度约 12.6:1) */
color: var(--color-trust-900); /* #0F172A */

/* 选项 2: 使用 trust-950 (对比度约 16.8:1) */
color: var(--color-trust-950); /* #020617 */

/* 选项 3: 使用中性色更深的版本 */
color: var(--color-neutral-900); /* #0F172A */
```

### 方案 2: 保持当前颜色（如果设计需要）
如果设计上必须使用 `--color-neutral-400`，可以：
- 保持当前颜色（符合 AA 标准，最低要求）
- 在 hover 状态使用更深的颜色以提高可读性
- 确保字体大小足够大（大文字只需要 3:1 对比度）

## 其他检查项

脚本还检查了以下内容，均通过：
- ✅ 所有按钮变体的颜色对比度
- ✅ 卡片组件的文字和背景对比度
- ✅ 导航菜单的颜色对比度
- ✅ 表单元素的颜色对比度

## 使用说明

运行检查工具：
```bash
python3 scripts/check-accessibility-colors.py
```

工具会：
1. 解析 CSS 文件中的所有颜色变量
2. 检查所有文字颜色和背景颜色的组合
3. 计算对比度比率
4. 生成详细报告（JSON 格式）
5. 在控制台显示问题摘要

## 注意事项

- 此工具只检查 CSS 文件中明确定义的颜色组合
- 对于通过 JavaScript 动态设置的颜色，需要手动检查
- 某些装饰性元素（如 `::before`, `::after`）如果没有文字内容，会被自动跳过
- 建议定期运行此工具，确保新添加的样式符合无障碍标准

